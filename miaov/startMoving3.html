<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>startMoving</title>
	<style>
		#div1{width: 100px;height: 100px;background: green;color: #fff;text-align: center;line-height: 100px;position: absolute;left: 1200px;}
		#lt{border-right: 1px solid #aaa;height: 500px;width: 0;position: absolute;left: 500px;}
	</style>
</head>
<script type="text/javascript">
	function startMoving (iTarget,ispState) {
	var div1=document.getElementById('div1'),iSpeed,
		timer=null;
		clearInterval(timer);
		if (typeof ispState != 'number')
		ispState=ispState=='fast'?8:12;
		timer=setInterval(function(){
			iSpeed=(iTarget-div1.offsetLeft)/ispState;
			iSpeed=iSpeed>0?Math.ceil(iSpeed):Math.floor(iSpeed);
			if(Math.abs(div1.offsetLeft-iTarget)<Math.abs(iSpeed)||div1.offsetLeft==iTarget){
				div1.style.left='500px';
				clearInterval(timer);				
			}
			else{
				div1.style.left=div1.offsetLeft+iSpeed+'px';
			}
			// console.log(iSpeed+'|'+div1.offsetLeft);
		},30);		
	}
	window.onload=function(){
		startMoving(500,'slow');
	};
</script>
<body>
	<div id="div1">Div1</div>
	<div id="lt"></div>
</body>
</html>